From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Dueris MC <purplewolf.mc1@gmail.com>
Date: Wed, 15 Nov 2023 21:03:11 +0000
Subject: [PATCH] Add player abilities api


diff --git a/src/main/java/io/github/dueris/entity/player/Abilities.java b/src/main/java/io/github/dueris/entity/player/Abilities.java
new file mode 100644
index 0000000000000000000000000000000000000000..6c85ea4b42cc2c107c625dd71d36fb515a96bee0
--- /dev/null
+++ b/src/main/java/io/github/dueris/entity/player/Abilities.java
@@ -0,0 +1,62 @@
+package io.github.dueris.entity.player;
+
+import org.bukkit.craftbukkit.entity.CraftPlayer;
+
+public class Abilities implements io.github.dueris.entity.Abilities {
+    private CraftPlayer player;
+
+    public Abilities(CraftPlayer player){
+        this.player = player;
+    }
+
+    @Override
+    public boolean invulnerable(){
+        return this.player.getHandle().getAbilities().invulnerable;
+    }
+    // NOTE FOR LATER: add ability to set some of these values, like "maybuild", "instabuild"
+
+    @Override
+    public boolean flying(){
+        return this.player.getHandle().getAbilities().flying;
+    }
+
+    @Override
+    public boolean maybuild(){
+        return this.player.getHandle().getAbilities().mayBuild;
+    }
+
+    @Override
+    public boolean mayFly(){
+        return this.player.getHandle().getAbilities().mayfly;
+    }
+
+    @Override
+    public boolean instabuild(){
+        return this.player.getHandle().getAbilities().instabuild;
+    }
+
+    @Override
+    public float getFlyingSpeed(){
+        return this.player.getHandle().getAbilities().flyingSpeed;
+    }
+
+    @Override
+    public void setFlyingSpeed(float speed){
+        this.player.getHandle().getAbilities().setFlyingSpeed(speed);
+    }
+
+    @Override
+    public float getWalkingSpeed(){
+        return this.player.getHandle().getAbilities().walkingSpeed;
+    }
+
+    @Override
+    public void setWalkingSpeed(float speed){
+        this.player.getHandle().getAbilities().setWalkingSpeed(speed);
+    }
+
+    @Override
+    public org.bukkit.entity.Player getPlayer(){
+        return this.player;
+    }
+}
diff --git a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
index d5c5d2e5191e5903aa1cecd846582c40d4249358..bd1c23fafbb6dad9f0f418f5b3204e7a99b76c52 100644
--- a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
+++ b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
@@ -397,6 +397,13 @@ public class CraftPlayer extends CraftHumanEntity implements Player {
 
          updatePlayerListHeaderFooter();
     }
+    // Canvas start
+
+    @Override
+    public io.github.dueris.entity.player.Abilities getAbilities(){
+        return new io.github.dueris.entity.player.Abilities(this);
+    }
+    // Canvas end
 
     @Override
     public void setPlayerListHeaderFooter(BaseComponent header, BaseComponent footer) {
